import{r as o,o as r,c as p,a as s,e,F as c,d as t,b as n}from"./app.f04538c2.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const l={},u=t(`<h1 id="_4-3-csp-in-angular" tabindex="-1"><a class="header-anchor" href="#_4-3-csp-in-angular" aria-hidden="true">#</a> 4.3 CSP in Angular</h1><p>Angular suggests completing their built-in XSS prevention with the following:</p><ul><li>Use Content-Security-Policy HTTP header: We recommend you to <strong>use strict CSP</strong> instead of allow-list CSP as it is more effective and does not need customization. You can choose to use <strong>Nonce-based</strong> strict CSP or <strong>Hash-based</strong> strict CSP.</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>Content<span class="token operator">-</span>Security<span class="token operator">-</span>Policy<span class="token operator">:</span>
  script<span class="token operator">-</span>src <span class="token string">&#39;nonce-{RANDOM}&#39;</span> <span class="token string">&#39;strict-dynamic&#39;</span><span class="token punctuation">;</span>
  object<span class="token operator">-</span>src <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
  base<span class="token operator">-</span>uri <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>Content<span class="token operator">-</span>Security<span class="token operator">-</span>Policy<span class="token operator">:</span>
  script<span class="token operator">-</span>src <span class="token string">&#39;sha256-{HASHED_INLINE_SCRIPT}&#39;</span> <span class="token string">&#39;strict-dynamic&#39;</span><span class="token punctuation">;</span>
  object<span class="token operator">-</span>src <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
  base<span class="token operator">-</span>uri <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Note that using these headers requires you to refactor code that is not compatible with CSP.</p>`,6),d=n("To learn further please check this page: "),k={href:"https://web.dev/strict-csp/",target:"_blank",rel:"noopener noreferrer"},b=n("web.dev/strict-csp/"),g=n("Use "),y={href:"https://w3c.github.io/trusted-types/dist/spec/#introduction",target:"_blank",rel:"noopener noreferrer"},h=n("Trusted Types"),m=n(" (an API that allows applications to lock down DOM-XSS injection sinks to only accept non-spoofable, typed values in place of strings) by configuring your web server to emit HTTP headers with one of the following Angular policies:"),f=t(`<ul><li><p><code>angular</code> This policy is used in security-reviewed code that is internal to Angular, and is required for Angular to function when Trusted Types are enforced. Any inline template values or content sanitized by Angular is treated as safe by this policy.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>Content<span class="token operator">-</span>Security<span class="token operator">-</span>Policy<span class="token operator">:</span> 
    trusted<span class="token operator">-</span>types angular<span class="token punctuation">;</span> 
    <span class="token keyword">require</span><span class="token operator">-</span>trusted<span class="token operator">-</span>types<span class="token operator">-</span><span class="token keyword">for</span> <span class="token string">&#39;script&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p><code>angular#unsafe-bypass</code> - This policy is used for applications that use any of the methods in Angular DomSanitizer that bypass security, such as <code>bypassSecurityTrustHtml</code>. Any application that uses these methods must enable this policy.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>Content<span class="token operator">-</span>Security<span class="token operator">-</span>Policy<span class="token operator">:</span> 
    trusted<span class="token operator">-</span>types angular angular#unsafe<span class="token operator">-</span>bypass<span class="token punctuation">;</span> 
    <span class="token keyword">require</span><span class="token operator">-</span>trusted<span class="token operator">-</span>types<span class="token operator">-</span><span class="token keyword">for</span> <span class="token string">&#39;script&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p><code>angular#unsafe-jit</code> This policy is used by the JIT compiler. You must enable this policy if your application interacts directly with the JIT compiler or is running in JIT mode using the platform browser dynamic.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>Content<span class="token operator">-</span>Security<span class="token operator">-</span>Policy<span class="token operator">:</span> 
    trusted<span class="token operator">-</span>types angular angular#unsafe<span class="token operator">-</span>jit<span class="token punctuation">;</span> 
    <span class="token keyword">require</span><span class="token operator">-</span>trusted<span class="token operator">-</span>types<span class="token operator">-</span><span class="token keyword">for</span> <span class="token string">&#39;script&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul>`,1);function _(v,w){const a=o("ExternalLinkIcon");return r(),p(c,null,[u,s("p",null,[d,s("a",k,[b,e(a)])]),s("ul",null,[s("li",null,[s("p",null,[g,s("a",y,[h,e(a)]),m]),f])])],64)}var P=i(l,[["render",_]]);export{P as default};
