# Nom de l'Action : Scorecard
# Le workflow s'ex√©cute lorsque quelqu'un pousse des modifications sur la branche principale
on:
  push:
    branches:
      - main

# D√©finition de l'emploi qui sera ex√©cut√©
jobs:
  build-and-deploy:
    # D√©finit la plateforme d'ex√©cution de l'emploi
    runs-on: ubuntu-latest
    
    # Les √©tapes du travail
    steps:
      # √âtape 1: Checkout
      - name: Checkout üõéÔ∏è
        # Utilise l'action Github pour cloner le d√©p√¥t
        uses: actions/checkout@v3.0.0

      # √âtape 2: Installation et construction
      - name: Install and Build üîß
        # Utilise l'Action Scorecard pour installer et construire les d√©pendances de votre projet
        uses: ossf/scorecard-action@main
        # Param√®tres pour la sortie des r√©sultats de l'Action Scorecard
        with:
          results_file: results.sarif
          results_format: sarif

      # √âtape 3: T√©l√©versement de l'artefact
      - name: "Upload artifact"
        # Utilise l'Action d'Upload d'artefact pour t√©l√©verser les fichiers g√©n√©r√©s par les √©tapes pr√©c√©dentes
        uses: actions/upload-artifact@3cea5372237819ed00197afe530f5a7ea3e805c8 # v3.1.0
        # Param√®tres pour le t√©l√©versement de l'artefact
        with:
          name: SARIF file
          path: results.sarif
          retention-days: 5
